close all
clear all
clc

create_Element('/Users/giovannivolpe/Documents/GitHub/Braph-2.0-Matlab/braph2genesis/src/gui/_Plot.gen.m', '/Users/giovannivolpe/Documents/GitHub/Braph-2.0-Matlab/braph2/src/gui')

% figures occupying 4 quadrants of the screen
f_NW = figure( ...
    'Name', 'NW', ...
    'OuterPosition', [Plot.x0(0)+Plot.w(0)/4 Plot.h(0)/2 Plot.w(0)/4 Plot.h(0)/4] ...
    );
f_NE = figure( ...
    'Name', 'NE', ...
    'OuterPosition', [Plot.w(0)/2 Plot.h(0)/2 Plot.w(0)/4 Plot.h(0)/4] ...
    );
f_SW = figure( ...
    'Name', 'SW', ...
    'OuterPosition', [Plot.x0(0)+Plot.w(0)/4 Plot.y0(0)+Plot.h(0)/4 Plot.w(0)/4 Plot.h(0)/4] ...
    );
f_SE = figure( ...
    'Name', 'SE', ...
    'OuterPosition', [Plot.w(0)/2 Plot.y0(0)+Plot.h(0)/4 Plot.w(0)/4 Plot.h(0)/4] ...
    );

% panel in center of figure NW
pl_NW = Plot();
pl_NW.draw( ...
    'Parent', f_NW, ...
    'Units', 'normalized', ...
    'Position', [.25 .25 .50 .50], ...
    'BackgroundColor', [1 0 0] ...
    )
pl_NW.settings( ...
    'Color', [1 0 0] ...
    )

% panel in center of figure NE
% retrieving the panel and settings figure handles
pl_NE = Plot();
hp_NE = pl_NE.draw( ...
    'Parent', f_NE, ...
    'Units', 'normalized', ...
    'Position', [.25 .25 .50 .50], ...
    'BackgroundColor', [0 1 0] ...
    );
fs_NE = pl_NE.settings( ...
    'Color', [0 1 0], ...
    'Name', 'Renamed this settings figure', ...
    'Units', get(f_NE, 'Units'), ...
    'Position', [Plot.x0(f_NE) Plot.y0(f_NE) Plot.w(f_NE) Plot.h(f_NE)] ...
    );

% panel in center of figure SW
% note the misalignement of the settings figure
pl_SW = Plot();
pl_SW.draw( ...
    'Parent', f_SW, ...
    'Units', 'normalized', ...
    'Position', [.25 .25 .50 .50], ...
    'BackgroundColor', [0 0 1] ...
    );
pl_SW.settings( ...
    'Color', [0 0 1], ...
    'Position', [Plot.x0(f_SW, 'normalized')+Plot.w(f_SW, 'normalized')/4 Plot.y0(f_SW, 'normalized')+Plot.h(f_SW, 'normalized')/4 Plot.w(f_SW, 'normalized')/2 Plot.h(f_SW, 'normalized')/2] ...
    )

% panel in on top of figure SE
% note the alignement of the settings figure
pl_SE = Plot();
pl_SE.draw( ...
    'Parent', f_SE, ...
    'Units', 'normalized', ...
    'Position', [.25 .25 .50 .50], ...
    'BackgroundColor', 'w' ...
    );
pl_SE.settings( ...
    'Color', 'w', ...
    'OuterPosition', [Plot.x0(f_SE, 'normalized') Plot.y0(f_SE, 'normalized') Plot.w(f_SE, 'normalized') Plot.h(f_SE, 'normalized')] ...
    )

% close SE settings figure
pl_SE.cb_close_fs()

% bring to from NW settings figure
pl_NW.cb_bring_fs_to_front()

% close SE
close(f_SW)

% replot SW inside NW settings figure
pl_SW.draw( ...
    'Parent', pl_NW.settings(), ...
    'BackgroundColor', [0 0 1] ...
    )
pl_SW.settings()

close(f_NW)
close(f_NE)
close(f_SE)








% load('tmp_pip.mat')
% 
% % create_Element('/Users/giovannivolpe/Documents/GitHub/Braph-2.0-Matlab/braph2genesis/src/gui/_PlotPropString.gen.m', '/Users/giovannivolpe/Documents/GitHub/Braph-2.0-Matlab/braph2/src/gui')
% % create_Element('/Users/giovannivolpe/Documents/GitHub/Braph-2.0-Matlab/braph2genesis/src/gui/_PlotPropText.gen.m', '/Users/giovannivolpe/Documents/GitHub/Braph-2.0-Matlab/braph2/src/gui')
% % create_Element('/Users/giovannivolpe/Documents/GitHub/Braph-2.0-Matlab/braph2genesis/src/gui/_Pipeline.gen.m', '/Users/giovannivolpe/Documents/GitHub/Braph-2.0-Matlab/braph2/src/gui')
% create_Element('/Users/giovannivolpe/Documents/GitHub/Braph-2.0-Matlab/braph2genesis/src/gui/_PPPipeline_PSDict.gen.m', '/Users/giovannivolpe/Documents/GitHub/Braph-2.0-Matlab/braph2/src/gui')
% % im = ImporterPipelineBRAPH2(...
% %     'FILE', '/Users/giovannivolpe/Documents/GitHub/Braph-2.0-Matlab/braph2/pipelines/structural/pipeline_structural_analysis_wu.braph2', ...
% %     'WAITBAR', false ...
% %     ); 
% % im = ImporterPipelineBRAPH2(...
% %     'FILE', '/Users/giovannivolpe/Documents/GitHub/Braph-2.0-Matlab/braph2/pipelines/structural/pipeline_structural_comparison_wu.braph2', ...
% %     'WAITBAR', false ...
% %     ); 
% % pip = im.get('PIP');
% 
% GUI(pip)
% 
% % create_Element('/Users/giovannivolpe/Documents/GitHub/Braph-2.0-Matlab/braph2genesis/src/gui/_Pipeline.gen.m', '/Users/giovannivolpe/Documents/GitHub/Braph-2.0-Matlab/braph2/src/gui')
% % create_Element('/Users/giovannivolpe/Documents/GitHub/Braph-2.0-Matlab/braph2genesis/src/gui/_ImporterPipelineBRAPH2.gen.m', '/Users/giovannivolpe/Documents/GitHub/Braph-2.0-Matlab/braph2/src/gui')
% % create_Element('/Users/giovannivolpe/Documents/GitHub/Braph-2.0-Matlab/braph2genesis/src/gui/_ExporterPipelineBRAPH2.gen.m', '/Users/giovannivolpe/Documents/GitHub/Braph-2.0-Matlab/braph2/src/gui')
% % 
% % im = ImporterPipelineBRAPH2(...
% %     'FILE', '/Users/giovannivolpe/Documents/GitHub/Braph-2.0-Matlab/braph2/pipelines/structural/pipeline_structural_comparison_wu.braph2', ...
% %     'WAITBAR', true ...
% %     ); 
% % pip = im.get('PIP');
% % % pip.tree(4)
% % 
% % ex= ExporterPipelineBRAPH2( ...
% %     'PL', pl, ...
% %     'WAITBAR', true ...
% %     );
% % ex.get('SAVE');